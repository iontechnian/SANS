!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([,function(t,e){window.SANS=new class{constructor(){}ActUponPlanets(){let t=gGame.m_State.m_rgPlanets,e=t.map(t=>({...t.state,id:t.id}));e=e.sort((t,e)=>t.capture_progress-e.capture_progress);let i={};t.forEach(t=>{let e=t.state;i[t.id]={Captured:e.captured,"Capture Progress":(100*e.capture_progress).toFixed(2)+"%",capture_progress:e.capture_progress,Name:e.name}}),console.log(`Sensors detect ${t.length} Planets in range. Displaying Information:`),console.table(i,["Name","Captured","Capture Progress"]);let n=e[0];console.log(`Planet '${n.name}' considered highest priority to Salien High Command. Creating Trajectory Vector to Planetary Orbit...`),gGame.ChangeState(new CBattleSelectionState(n.id))}ActUponGrid(){console.log("Starting Scan of Detected Sectors.");let t=gGame.m_State.m_Grid.m_Tiles.map((t,e)=>({...t.Info,id:e}));gGame.m_State.m_Grid.enterTile=function(t,e){if(!e.m_bJoiningPlanet){e.m_unPlanetID;e.m_PlanetData.zones[t].captured?ZoneCaptured():(e.m_bJoiningPlanet=!0,gServer.JoinZone(t,function(i){gGame.ChangeState(new CBattleState(e.m_PlanetData,t)),e.m_bJoiningPlanet=!1},function(t,i){void 0!==i&&27==i?(e.m_bJoiningPlanet=!1,ZoneCaptured(),gGame.ChangeState(new CBattleSelectionState(e.m_PlanetData.id))):(e.m_bJoiningPlanet=!1,GameLoadError())}))}};let e=t.map(t=>({id:t.id,captured:t.captured,difficulty:t.difficulty,progress:t.progress}));if(0==(e=e.filter(t=>!t.captured)).length)console.log("No Sectors left to Capture. Returning to Stellar Orbit..."),gGame.m_State.m_LeaveButton.click();else{let t=(e=(e=e.sort((t,e)=>e.difficulty-t.difficulty)).sort((t,e)=>e.progress-t.progress)).slice(0,5);console.log(`Scan Complete. Displaying ${t.length>1?"Top "+t.length+" Sectors":"Primary Sector"} of highest priority.`),console.table(t.reduce((t,e)=>(t[e.id]={Difficulty:e.difficulty,Progress:(100*e.progress).toFixed(2)+"%"},t),{})),console.log(`Sector ${t[0].id} targetted. Deploying Salien Position...`);let i=this._GetTileCoords(t[0].id);setTimeout(()=>{gGame.m_State.m_Grid.click(i.x,i.y)},10)}}_GetTileCoords(t){return{x:t%12,y:Math.floor(t/12)}}}},function(t,e){CBattleState.prototype.RenderVictoryScreen=function(t){gApp.renderer.plugins.interaction.cursorStyles.default="inherit",gApp.renderer.plugins.interaction.cursorStyles.pointer="pointer";var e=this;this.m_VictoryScreen=new PIXI.Container,this.m_VictoryScreen.x=375,this.m_VictoryScreen.y=140;var i=new PIXI.Graphics;i.beginFill(0,1),i.drawRect(0,0,545,405),i.endFill(),this.m_VictoryScreen.addChild(i);var n=new PIXI.Graphics;n.beginFill(k_UIWhite,1),n.drawRect(0,0,230,40),n.endFill(),this.m_VictoryScreen.addChild(n),n.x=155,n.y=300,n.interactive=!0,n.buttonMode=!0,n.pointertap=function(){e.m_VictoryScreen.visible=!1,n.result.new_level>n.result.old_level?e.RenderLevelUpScreen(n.result):gGame.ChangeState(new CBattleSelectionState(e.m_PlanetData.id))};var a=new PIXI.Text("Continue".toUpperCase());a.style={fontFamily:k_FontType,fontSize:18,fontWeight:"bold",fill:"black",align:"center"},n.addChild(a),a.anchor.set(.5,.5),a.x=115,a.y=20;var o=new PIXI.Text("Reporting Score to Salien High Command...".toUpperCase());o.style={fontFamily:k_FontType,fontSize:18,fontWeight:"bold",fill:"white",align:"center"},o.anchor.set(.5,.5),o.x=i.width/2,o.y=300,this.m_VictoryScreen.addChild(o),n.visible=!1;var s=new PIXI.Text("Battle Complete!".toUpperCase());s.style={fontFamily:k_FontType,fontSize:48,fontWeight:"bold",fill:"white",align:"center"},s.anchor.set(.5,.5),s.x=i.width/2,s.y=100,this.m_VictoryScreen.addChild(s);var r=new PIXI.Text("On ".toUpperCase()+this.m_PlanetData.state.name);r.style={fontFamily:k_FontType,fontSize:16,fontWeight:"bold",fill:"white",align:"center"},r.anchor.set(.5,.5),r.x=s.x,r.y=s.y+s.height/2+5,this.m_VictoryScreen.addChild(r);var l=new PIXI.Text("You vanquished "+this.m_EnemyManager.m_nDefeatedEnemies+" enemy aliens");l.style={fontFamily:k_FontType,fontSize:24,fill:"white",align:"center"},l.anchor.set(.5,.5),l.x=s.x,l.y=r.y+r.height/2+40,this.m_VictoryScreen.addChild(l);var h=new PIXI.Text("Final Score: "+this.m_Score);h.style={fontFamily:k_FontType,fontSize:24,fill:"white",align:"center"},h.anchor.set(.5,.5),h.x=s.x,h.y=l.y+l.height/2+20,this.m_VictoryScreen.addChild(h);var m=new PIXI.Graphics;m.beginFill(0,.8),m.drawRect(0,0,545,135),m.endFill(),m.x=i.x,m.y=i.height,this.m_VictoryScreen.addChild(m);var d=new PIXI.Text("You have been entered to win one of these four games:");d.style={fontFamily:k_FontType,fontSize:14,fill:"white",align:"center"},d.anchor.set(.5,.5),d.x=m.width/2,d.y=20,m.addChild(d);for(var _=0;_<this.m_PlanetData.giveaway_apps.length;_++){var g=this.m_PlanetData.giveaway_apps[_],p=new PIXI.Sprite.fromImage("app_"+g);p.width=k_GameBoxW,p.height=k_GameBoxH,p.interactive=!0,p.buttonMode=!0,p.appid=g,p.pointertap=function(){window.open("https://store.steampowered.com/app/"+this.appid+"/?snr=1_saliens_4__salienapps","_blank")},m.addChild(p),p.x=80+_*(k_GameBoxW+k_GameBoxPadding),p.y=d.y+20}this.button=new CUIButton(300,40,"Browse Similar Games on Sale".toUpperCase()),this.button.x=122,this.button.y=d.y+d.height/2+60,this.button.click=function(t){gAudioManager.PlaySound("ui_select"),void 0!==e.m_PlanetData.state.tag_ids?window.open("https://store.steampowered.com/search/?snr=1_saliens_4__salientags&tags="+e.m_PlanetData.state.tag_ids,"_blank"):window.open("https://store.steampowered.com/","_blank")},m.addChild(this.button),gApp.stage.addChild(this.m_VictoryScreen),console.log("Mission Complete. Reporting to Salien High Command..."),gServer.ReportScore(this.m_Score,function(t){o.visible=!1,n.visible=!0,n.result=t.response,console.log("Report Created. Returning to Planetary Orbit..."),gGame.ChangeState(new CBattleSelectionState(e.m_PlanetData.id)),gServer.GetPlayerInfo(function(t){gPlayerInfo=t.response},function(){})},GameLoadError)},CPlanetSelectionState.prototype.OnLoadComplete=function(t,e){null==gSalien&&(gSalien=new CSalien(e)),this.background=new PIXI.Sprite.fromImage("planet_select_bg"),this.background.width=gApp.screen.width,this.background.height=gApp.screen.height,gApp.stage.addChild(this.background),gAudioManager.PlayMusic("galaxy_music",!0),this.m_rgPlanetLocations=[{x:1036,y:228,scale:.8},{x:453,y:261,scale:.7},{x:750,y:370,scale:.3},{x:600,y:542,scale:.4},{x:900,y:579,scale:.5}],this.m_rgPlanetSprites=[],this.m_MouseOverInfo=!1,this.m_MouseOverPlanet=null;var i=this;this.m_rgPlanets.forEach(function(t,e){var n=t.state.position,a=new PIXI.Sprite.fromImage("Planet_"+t.id);a.anchor.set(.5,.5),a.x=i.m_rgPlanetLocations[n].x,a.y=i.m_rgPlanetLocations[n].y,a.vscale=0,a.minscale=i.m_rgPlanetLocations[n].scale-.02,a.maxscale=i.m_rgPlanetLocations[n].scale+.03,a.basescale=i.m_rgPlanetLocations[n].scale,a.scale.set(i.m_rgPlanetLocations[n].scale,i.m_rgPlanetLocations[n].scale),a.interactive=!0,a.buttonMode=!0,a.mouseover=function(){i.OnMouseOverPlanet(this,t.id)},a.mouseout=function(){i.OnMouseOutPlanet(this)},a.pointertap=function(){gAudioManager.PlaySound("ui_select_forward"),gServer.JoinPlanet(t.id,function(e){gGame.ChangeState(new CBattleSelectionState(t.id))},function(t){ShowAlertDialog("Join Planet Error","Failed to join planet.  Please reload your game or try again shortly.")})},i.m_rgPlanetSprites.push(a),gApp.stage.addChild(a)}),this.m_SelectedPlanet=null,this.m_ShowingInfo=!1,this.m_LogoBG=new PIXI.Sprite.fromImage("logo_bg"),gApp.stage.addChild(this.m_LogoBG),this.m_Logo=new PIXI.Sprite.fromImage("logo"),this.m_Logo.x=33,this.m_Logo.y=17,gApp.stage.addChild(this.m_Logo),this.m_Elapsed=0,this.m_Ship=new PIXI.Sprite.fromImage("ship"),this.m_Ship.y=k_ScreenHeight-this.m_Ship.height,gApp.stage.addChild(this.m_Ship),this.m_ShipFlag=new PIXI.Sprite.fromImage("ship_flag"),this.m_ShipFlag.x=84,this.m_ShipFlag.y=2,this.m_Ship.addChild(this.m_ShipFlag),this.m_ShipFlag.interactive=!0,this.m_ShipFlag.buttonMode=!0,this.m_ShipFlag.pointertap=function(){ShowRepresentGroupDialog(function(t,e){gPlayerInfo.clan_info={},gPlayerInfo.clan_info.accountid=t,gPlayerInfo.clan_info.avatar=e,gGame.ChangeState(new CPlanetSelectionState(i.m_unPlanetID))})},this.m_Ship.addChild(this.m_ShipFlag),void 0!==gPlayerInfo.clan_info?(this.m_ShipFlagClan=new PIXI.Sprite.fromImage("clanavatar_"+gPlayerInfo.clan_info.accountid),this.m_ShipFlagClan.x=this.m_ShipFlag.x+32,this.m_ShipFlagClan.y=this.m_ShipFlag.y+12,this.m_Ship.addChild(this.m_ShipFlagClan)):WebStorage.GetLocal("minigame_joingroupprompt")<=3&&(null!==WebStorage.GetLocal("minigame_joingroupprompt")?WebStorage.SetLocal("minigame_joingroupprompt",WebStorage.GetLocal("minigame_joingroupprompt")+1):WebStorage.SetLocal("minigame_joingroupprompt",1),this.m_JoinGroupText=new PIXI.Text("< Choose a group!"),this.m_JoinGroupText.anchor.set(0,.5),this.m_JoinGroupText.x=this.m_ShipFlag.x+this.m_ShipFlag.width,this.m_JoinGroupText.y=this.m_ShipFlag.y+this.m_ShipFlag.height/2-10,this.m_JoinGroupText.style={fontFamily:k_FontType,fontSize:14,fill:"white",align:"center"},this.m_Ship.addChild(this.m_JoinGroupText)),gSalien.position.set(98,386),gSalien.scale.set(.13,.13),this.m_Ship.addChild(gSalien),this.m_SalienInfoBox=new CSalienInfoBox,this.m_SalienInfoBox.x=12,this.m_SalienInfoBox.y=k_ScreenHeight-72,gApp.stage.addChild(this.m_SalienInfoBox),this.m_Cursor=new CCrosshair(256,256),this.m_InfoBox=new CUIBox(244,180),this.m_InfoBox.SetTitleStyle(k_TextStyleDefault),this.m_InfoBox.AddRolloverBox(function(){i.m_MouseOverInfo=!0},function(){i.m_MouseOverInfo=!1,null==i.m_MouseOverPlanet&&null!=i.m_SelectedPlanet&&i.OnMouseOutPlanet(i.m_SelectedPlanet)}),this.m_InfoBoxProgress=new CProgressBar(200),this.m_InfoBoxProgress.x=.5*(this.m_InfoBox.GetWidth()-this.m_InfoBoxProgress.m_Width),this.m_InfoBoxProgress.y=48,this.m_InfoBox.addChild(this.m_InfoBoxProgress),this.m_InfoBoxFlavorText=new PIXI.Text,this.m_InfoBoxFlavorText.style=k_TextStyleItalics,this.m_InfoBoxFlavorText.anchor.set(.5,0),this.m_InfoBoxFlavorText.x=this.m_InfoBox.GetWidth()/2,this.m_InfoBoxFlavorText.y=32,this.m_InfoBox.addChild(this.m_InfoBoxFlavorText),this.m_InfoBoxPlanetStatus=new PIXI.Text("Status:"),this.m_InfoBoxPlanetStatus.style={fontFamily:k_FontType,fontSize:14,fill:"white",align:"center"},this.m_InfoBoxPlanetStatus.anchor.set(0,0),this.m_InfoBoxPlanetStatus.y=this.m_InfoBoxProgress.y-20,this.m_InfoBox.addChild(this.m_InfoBoxPlanetStatus),this.m_InfoBoxPlanetStatusCurrent=new PIXI.Text(""),this.m_InfoBoxPlanetStatusCurrent.style={fontFamily:k_FontType,fontSize:14,fill:"white",align:"left"},this.m_InfoBoxPlanetStatusCurrent.anchor.set(0,0),this.m_InfoBoxPlanetStatusCurrent.y=this.m_InfoBoxPlanetStatus.y,this.m_InfoBox.addChild(this.m_InfoBoxPlanetStatusCurrent);var n=this.m_InfoBoxPlanetStatus.width+this.m_InfoBoxPlanetStatusCurrent.width+8;this.m_InfoBoxPlanetStatus.x=this.m_InfoBox.GetWidth()/2-n/2,this.m_InfoBoxPlanetStatusCurrent.x=this.m_InfoBoxPlanetStatus.x+this.m_InfoBoxPlanetStatus.width+8,this.m_InfoBoxBattlingLabel=new PIXI.Text("Battling for a chance to win".toUpperCase()),this.m_InfoBoxBattlingLabel.style=k_TextStyleSmallBoldLeft,this.m_InfoBoxBattlingLabel.anchor.set(0,0),this.m_InfoBoxBattlingLabel.x=this.m_InfoBox.GetWidth()/2-99,this.m_InfoBoxBattlingLabel.y=76,this.m_InfoBox.addChild(this.m_InfoBoxBattlingLabel),this.m_QueuedMouseOutPlanet=null,this.m_InfoBoxGameSprites=[],this.m_InfoBoxTeamSprites=[],this.m_DynamicLoader=new PIXI.loaders.Loader,this.m_DynamicLoader.on("complete",(t,e)=>{i._RefreshInfoBoxGames(e)}),this.m_TeamIconIds=[],this.m_GameBannerIds=[],this.m_CustomizeButton=CreateCustomizeButton(220,300),this.m_CustomizeButton.y=k_ScreenHeight-340,gApp.stage.addChild(this.m_CustomizeButton),this.m_AudioIndicator=new PIXI.Sprite.fromImage("sound_toggle"),this.m_AudioIndicator.x=k_ScreenWidth-this.m_AudioIndicator.width-10,this.m_AudioIndicator.y=k_ScreenHeight-this.m_AudioIndicator.height-10,this.m_AudioIndicator.alpha=gAudioManager.m_Muted?.3:1,this.m_AudioIndicator.interactive=!0,this.m_AudioIndicator.buttonMode=!0,this.m_AudioIndicator.pointertap=function(){gAudioManager.ToggleMute(),this.alpha=gAudioManager.m_Muted?.3:1},gApp.stage.addChild(this.m_AudioIndicator),console.log("Returned to Stellar Orbit."),SANS.ActUponPlanets()},CBattleSelectionState.prototype.OnLoadComplete=function(t,e){null==gSalien&&(gSalien=new CSalien(e));var i=this;this.m_Background=new PIXI.Sprite.fromImage("planet_select_bg"),this.m_Background.width=gApp.screen.width,this.m_Background.height=gApp.screen.height,this.m_GridContainer=new PIXI.Container,this.m_GridContainer.x=408,this.m_GridContainer.y=102;this.m_GridBox=new CUIBox(854,648),this.m_GridBox.SetTitleHeight(44);var n=jQuery.extend({},k_TextStyleBold);n.fontSize=20,this.m_GridBox.SetTitleStyle(n),this.m_GridBox.SetTitleText(this.m_PlanetData.state.name.toUpperCase()),this.m_GridBox.x=-24,this.m_GridBox.y=-64,this.m_GridContainer.addChild(this.m_GridBox),this.m_MapImage=new PIXI.Sprite.fromImage("map_bg_"+i.m_PlanetData.id),this.m_GridContainer.addChild(this.m_MapImage),this.m_bJoiningPlanet=!1,this.m_Grid=new CBattleSelect(e,this.m_GridContainer),this.m_Grid.click=function(t,e){if(!i.m_bJoiningPlanet){i.m_unPlanetID;var n=_GetTileIdx(t,e);i.m_PlanetData.zones[n].captured?ZoneCaptured():(i.m_bJoiningPlanet=!0,gServer.JoinZone(n,function(t){gGame.ChangeState(new CBattleState(i.m_PlanetData,n)),i.m_bJoiningPlanet=!1},function(t,e){void 0!==e&&27==e?(i.m_bJoiningPlanet=!1,ZoneCaptured(),gGame.ChangeState(new CBattleSelectionState(i.m_PlanetData.id))):(i.m_bJoiningPlanet=!1,GameLoadError())}))}},this.m_RewardsContainer=new PIXI.Container,this.m_RewardsContainer.x=256,this.m_RewardsContainer.y=this.m_GridBox.y+648-55,this.m_PossibleRewardsLabel=new PIXI.Text("Possible rewards:".toUpperCase()),this.m_PossibleRewardsLabel.style={fontFamily:k_FontType,fontSize:12,fill:"white",fontWeight:"bold",align:"center"},this.m_PossibleRewardsLabel.anchor.set(.5,.5),this.m_RewardsContainer.addChild(this.m_PossibleRewardsLabel);for(var a=0;a<this.m_PlanetData.giveaway_apps.length;a++){const t=.8;var o=this.m_PlanetData.giveaway_apps[a],s=new PIXI.Sprite.fromImage("app_"+o);s.x=a*(k_GameBoxW*t+k_GameBoxPadding),s.y=12,s.width=k_GameBoxW*t,s.height=k_GameBoxH*t,s.interactive=!0,s.buttonMode=!0,s.appid=o,s.pointertap=function(){window.open("https://store.steampowered.com/app/"+this.appid+"/?snr=1_saliens_4__salienapps","_blank")},this.m_RewardsContainer.addChild(s)}this.m_GridContainer.addChild(this.m_RewardsContainer),this.m_PossibleRewardsLabel.x=this.m_RewardsContainer.width/2-40,this.m_RewardCountdown=new PIXI.Text(""),this.m_RewardCountdown.style={fontFamily:k_FontType,fontSize:14,fill:"white",fontWeight:"bolder",align:"center"},this.m_RewardCountdown.anchor.set(.5,.5),this.m_RewardCountdown.x=this.m_PossibleRewardsLabel.x,this.m_RewardCountdown.y=this.m_PossibleRewardsLabel.y-18,this.m_RewardsContainer.addChild(this.m_RewardCountdown),this.m_rtPlanetCountUp=0,gServer.GetPlayerInfo(function(t){gPlayerInfo=t.response,i.m_rtPlanetCountUp=Date.now();var e=gPlayerInfo.time_on_planet,n=PadZerosLeft(Math.floor(e/3600),2)+":"+PadZerosLeft(Math.floor(e%3600/60),2)+":"+PadZerosLeft(e%60,2);i.m_RewardCountdown.text="Time Spent On Planet: ".toUpperCase()+n},function(){}),this.m_LeaveButton=new CUIButton(134,34,"Leave Planet".toUpperCase()),this.m_LeaveButton.x=0,this.m_LeaveButton.y=this.m_GridBox.y+648-55,this.m_LeaveButton.click=function(t){gAudioManager.PlaySound("ui_select_backwards"),gServer.LeaveGameInstance(i.m_PlanetData.id,function(){gGame.ChangeState(new CPlanetSelectionState)})},this.m_GridContainer.addChild(this.m_LeaveButton);var r=0,l=0,h=0;this.m_PlanetData.zones.forEach(function(t){t.captured||(1==t.difficulty?++r:2==t.difficulty?++l:3==t.difficulty&&++h)}),this.m_ZonesRemainingBox=new PIXI.Container,this.m_ZonesRemainingBox.x=660,this.m_ZonesRemainingBox.y=524,this.m_GridContainer.addChild(this.m_ZonesRemainingBox),this.m_EnemiesRemainingText=new PIXI.Text("Enemy Tiles Remaining:".toUpperCase()),this.m_EnemiesRemainingText.style={fontFamily:k_FontType,fontSize:10,fill:"white",fontWeight:"bold",align:"left"},this.m_EnemiesRemainingText.y=-16,this.m_EnemiesRemainingText.x=-20,this.m_ZonesRemainingBox.addChild(this.m_EnemiesRemainingText),this.m_EasySprite=new PIXI.Sprite.fromImage("easy_difficulty"),this.m_EasySprite.scale.set(.1,.1),this.m_EasyText=new PIXI.Text("x"+r),this.m_EasyText.x=this.m_EasySprite.x+this.m_EasySprite.width/2,this.m_EasyText.y=this.m_EasySprite.height,this.m_EasyText.style=k_TextStyleZoneRemaining,this.m_ZonesRemainingBox.addChild(this.m_EasyText),this.m_ZonesRemainingBox.addChild(this.m_EasySprite),this.m_MediumSprite=new PIXI.Sprite.fromImage("medium_difficulty"),this.m_MediumSprite.scale.set(.1,.1),this.m_MediumSprite.x=this.m_EasySprite.x+this.m_EasySprite.width+k_GameBoxPadding,this.m_MediumText=new PIXI.Text("x"+l),this.m_MediumText.x=this.m_MediumSprite.x+this.m_MediumSprite.width/2,this.m_MediumText.y=this.m_MediumSprite.height,this.m_MediumText.style=k_TextStyleZoneRemaining,this.m_ZonesRemainingBox.addChild(this.m_MediumText),this.m_ZonesRemainingBox.addChild(this.m_MediumSprite),this.m_HardSprite=new PIXI.Sprite.fromImage("hard_difficulty"),this.m_HardSprite.scale.set(.1,.1),this.m_HardSprite.x=this.m_MediumSprite.x+this.m_MediumSprite.width+k_GameBoxPadding,this.m_HardText=new PIXI.Text("x"+h),this.m_HardText.x=this.m_HardSprite.x+this.m_HardSprite.width/2,this.m_HardText.y=this.m_HardSprite.height,this.m_HardText.style=k_TextStyleZoneRemaining,this.m_ZonesRemainingBox.addChild(this.m_HardText),this.m_ZonesRemainingBox.addChild(this.m_HardSprite);for(var m=0;m<k_NumMapTilesW;++m)for(var d=0;d<k_NumMapTilesH;++d){a=_GetTileIdx(m,d);var _=this.m_PlanetData.zones[a],g=!1;4==_.type&&(g=!0);var p=!1;void 0!==_.captured&&1==_.captured&&(p=!0);var c=_.difficulty,u=null,S=null;void 0!==_.leader&&(S=_.leader.url,u="clanavatar_"+_.leader.accountid);var f=0;void 0!==_.capture_progress&&(f=_.capture_progress);var x=[];void 0!==_.top_clans&&(x=_.top_clans);var I={boss:g,captured:p,difficulty:c,clanurl:S,clanavatar:u,progress:f,clans:x};this.m_Grid.SetTile(m,d,I)}this.m_MapImage.width=this.m_Grid.width,this.m_MapImage.height=this.m_Grid.height,gApp.stage.addChild(this.m_Background),this.m_LogoBG=new PIXI.Sprite.fromImage("logo_bg"),gApp.stage.addChild(this.m_LogoBG),this.m_Logo=new PIXI.Sprite.fromImage("logo"),this.m_Logo.x=33,this.m_Logo.y=17,gApp.stage.addChild(this.m_Logo),this.m_Elapsed=0,this.m_Ship=new PIXI.Sprite.fromImage("ship"),this.m_Ship.x=-8,this.m_Ship.y=k_ScreenHeight-this.m_Ship.height+20,gApp.stage.addChild(this.m_Ship),this.m_ShipFlag=new PIXI.Sprite.fromImage("ship_flag"),this.m_ShipFlag.x=84,this.m_ShipFlag.y=2,this.m_ShipFlag.interactive=!0,this.m_ShipFlag.buttonMode=!0,this.m_ShipFlag.pointertap=function(){ShowRepresentGroupDialog(function(t,e){gPlayerInfo.clan_info={},gPlayerInfo.clan_info.accountid=t,gPlayerInfo.clan_info.avatar=e,gGame.ChangeState(new CBattleSelectionState(i.m_unPlanetID))})},this.m_Ship.addChild(this.m_ShipFlag),void 0!==gPlayerInfo.clan_info?(this.m_ShipFlagClan=new PIXI.Sprite.fromImage("clanavatar_"+gPlayerInfo.clan_info.accountid),this.m_ShipFlagClan.x=this.m_ShipFlag.x+32,this.m_ShipFlagClan.y=this.m_ShipFlag.y+12,this.m_Ship.addChild(this.m_ShipFlagClan)):WebStorage.GetLocal("minigame_joingroupprompt")<=3&&(null!==WebStorage.GetLocal("minigame_joingroupprompt")?WebStorage.SetLocal("minigame_joingroupprompt",WebStorage.GetLocal("minigame_joingroupprompt")+1):WebStorage.SetLocal("minigame_joingroupprompt",1),this.m_JoinGroupText=new PIXI.Text("< Choose a group!"),this.m_JoinGroupText.anchor.set(0,.5),this.m_JoinGroupText.x=this.m_ShipFlag.x+this.m_ShipFlag.width,this.m_JoinGroupText.y=this.m_ShipFlag.y+this.m_ShipFlag.height/2-10,this.m_JoinGroupText.style={fontFamily:k_FontType,fontSize:14,fill:"white",align:"center"},this.m_Ship.addChild(this.m_JoinGroupText)),gSalien.position.set(98,386),gSalien.scale.set(.13,.13),this.m_Ship.addChild(gSalien),this.m_SalienInfoBox=new CSalienInfoBox,this.m_SalienInfoBox.x=12,this.m_SalienInfoBox.y=k_ScreenHeight-72,gApp.stage.addChild(this.m_SalienInfoBox),gApp.stage.addChild(this.m_GridContainer),this.m_CustomizeButton=CreateCustomizeButton(220,300),this.m_CustomizeButton.y=k_ScreenHeight-320,gApp.stage.addChild(this.m_CustomizeButton),gAudioManager.PlayMusic("galaxy_music",!0),this.m_AudioIndicator=new PIXI.Sprite.fromImage("sound_toggle"),this.m_AudioIndicator.x=k_ScreenWidth-this.m_AudioIndicator.width-10,this.m_AudioIndicator.y=k_ScreenHeight-this.m_AudioIndicator.height-10,this.m_AudioIndicator.alpha=gAudioManager.m_Muted?.3:1,this.m_AudioIndicator.interactive=!0,this.m_AudioIndicator.buttonMode=!0,this.m_AudioIndicator.pointertap=function(){gAudioManager.ToggleMute(),this.alpha=gAudioManager.m_Muted?.3:1},gApp.stage.addChild(this.m_AudioIndicator),SANS.ActUponGrid()}},function(t,e,i){console.log("Salien Autopilot Initializing..."),console.log("Injecting Scripts."),i(2),i(1),console.log("Salien Autopilot Ready!")}]);